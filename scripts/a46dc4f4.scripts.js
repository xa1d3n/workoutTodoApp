"use strict";var myApp=angular.module("liftingTrackerApp",["ngRoute","liftingTrackerControllers"]);myApp.config(["$routeProvider",function(a){a.when("/daySelection",{templateUrl:"views/daySelection.html",controller:"DaySelectionCtrl"}).when("/setExcercises",{templateUrl:"views/setExcercises.html",controller:"SetExcercisesCtrl"}).when("/workoutsList",{templateUrl:"views/workouts.html",controller:"WorkoutDisplayCtrl"}).otherwise({redirectTo:"/workoutsList"})}]);var liftingTrackerControllers=angular.module("liftingTrackerControllers",[]);liftingTrackerControllers.controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),liftingTrackerControllers.service("sharedProperties",["$location",function(a){var b=[];return{getDay:function(){return b},setDays:function(c){localStorage.setItem("days",JSON.stringify(c)),b=c,a.path("/setExcercises")},addWorkouts:function(a){for(var b=this.getDay(),c=0;c<b.length;c++)a.dayName===b[c].dayName&&(b[c].workouts=a.workouts);localStorage.setItem("days",JSON.stringify(b))},strongLifts:function(){var a=[{dayName:"Monday",selected:!0,workouts:[{name:"Squat",weight:45,sets:5,minReps:5,maxReps:5},{name:"Bench Press",weight:45,sets:5,minReps:5,maxReps:5},{name:"Barbell Row",weight:65,sets:5,minReps:5,maxReps:5}]},{dayName:"Tuesday",selected:!1,workouts:[{}]},{dayName:"Wednesday",selected:!0,workouts:[{name:"Squat",weight:50,sets:5,minReps:5,maxReps:5},{name:"Overhead Press",weight:45,sets:5,minReps:5,maxReps:5},{name:"Deadlift",weight:90,sets:1,minReps:5,maxReps:5}]},{dayName:"Thursday",selected:!1,workouts:[{}]},{dayName:"Friday",selected:!0,workouts:[{name:"Squat",weight:55,sets:5,minReps:5,maxReps:5},{name:"Bench Press",weight:50,sets:5,minReps:5,maxReps:5},{name:"Barbell Row",weight:70,sets:5,minReps:5,maxReps:5}]},{dayName:"Saturday",selected:!1,workouts:[{}]},{dayName:"Sunday",selected:!1,workouts:[{}]}];this.setDays(a)}}}]),liftingTrackerControllers.controller("DaySelectionCtrl",["$scope","$location","sharedProperties",function(a,b,c){var d=JSON.parse(localStorage.getItem("days"))||[];a.days=d.length?d:[{dayName:"Monday",selected:!1,workouts:[{}]},{dayName:"Tuesday",selected:!1,workouts:[{}]},{dayName:"Wednesday",selected:!1,workouts:[{}]},{dayName:"Thursday",selected:!1,workouts:[{}]},{dayName:"Friday",selected:!1,workouts:[{}]},{dayName:"Saturday",selected:!1,workouts:[{}]},{dayName:"Sunday",selected:!1,workouts:[{}]}],a.goToSetExcercises=function(){c.setDays(a.days)},a.selection=[];var e=document.getElementById("daysContainer");e.style.display="none",a.createNew=function(){e.style.display="none"===e.style.display?"block":"none"},a.predefinedRoutine=function(){c.strongLifts()}}]),liftingTrackerControllers.controller("SetExcercisesCtrl",["$scope","$location","sharedProperties","exercises",function(a,b,c,d){a.goBtnVal="Next Day";var e=JSON.parse(localStorage.getItem("days"))||[];a.newExercise=e.length?e:c.getDay();var f=JSON.parse(localStorage.getItem("days"))||[];f.length,a.exercises=d,a.addExercise=function(a){c.addWorkouts(a)},a.goToWorkoutDisplay=function(){b.path("/workoutsList")},a.showNextDay=function(a){document.getElementById("day"+a).style.display="none";var b=document.getElementById("day"+(a+1));b?b.style.display="block":this.goToWorkoutDisplay()},a.addNew=function(){this.newExercise.workouts.push({})},a.removeExercise=function(a){this.newExercise.workouts.splice(a,1)}}]),liftingTrackerControllers.factory("exercises",function(){var a=[],b={};return b.addExercise=function(b){a.push(b),localStorage.setItem("days",JSON.stringify(a))},b.viewExercises=function(){return a},b}),liftingTrackerControllers.controller("WorkoutDisplayCtrl",["$scope","$location","sharedProperties","exercises",function(a,b,c,d){var e=JSON.parse(localStorage.getItem("days"))||[];a.workoutList=e.length?JSON.parse(localStorage.getItem("days"))||[]:d.viewExercises(),a.workoutList.length||b.path("/daySelection"),a.today=function(){var a=new Date,b=a.getDay(),c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=c[b];return d},a.addFive=function(a){this.day.workouts[a].weight+=5},a.removeFive=function(a){this.day.workouts[a].weight-5>0&&(this.day.workouts[a].weight-=5)},a.edit=function(){b.path("/daySelection")}}]);